# zkPredict Setup Guide

## âœ… Installation Complete!

**Frontend dependencies installed successfully:**
- 823 npm packages
- Next.js 15 + TypeScript
- Aleo Wallet Adapter
- Tailwind CSS + DaisyUI

**Leo CLI installed successfully:**
- Leo v3.4.0
- Installed via cargo from crates.io
- OpenSSL dependencies resolved

**Smart Contract compiled successfully:**
- zkPredict.aleo built without errors
- Generated bytecode: `program/build/main.aleo`
- Build metadata: `program/build/program.json`

## ğŸš€ Next Steps

### 3. Run Frontend Development Server

```bash
npm run dev
```

Open [http://localhost:3000](http://localhost:3000) in your browser.

### 4. Deploy Smart Contract (Optional - Testnet)

Before deploying, you need:
- Aleo private key with testnet credits
- Update `program/.env` with your private key

```bash
cd program

# Deploy to testnet
leo deploy --network testnet --private-key YOUR_PRIVATE_KEY

cd ..
```

## ğŸ“ Project Structure

```
zkpredict-full/
â”œâ”€â”€ program/                      â† Leo Smart Contract
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ main.leo             âœ… zkPredict contract
â”‚   â”œâ”€â”€ program.json             âœ… Program manifest
â”‚   â”œâ”€â”€ .env                     âš™ï¸ Network config (update with your key)
â”‚   â””â”€â”€ build/                   ğŸ“¦ Generated after leo build
â”œâ”€â”€ src/                         â† Frontend (Next.js)
â”‚   â”œâ”€â”€ components/              â† React components
â”‚   â”œâ”€â”€ pages/                   â† Routes
â”‚   â””â”€â”€ utils/                   â† Aleo utilities
â”œâ”€â”€ node_modules/                âœ… 823 packages installed
â”œâ”€â”€ package.json                 âœ… Configured
â””â”€â”€ README.md                    ğŸ“– Full documentation
```

## ğŸ§ª Testing Smart Contract

### Option 1: Local Devnet (Fast, for development)

```bash
cd program

# Start local devnet
leo devnet start

# Execute transitions
leo execute create_market "1field" "1740000000u32" --network devnet
leo execute place_bet "1field" "true" "1000000u64" --network devnet

# Stop devnet
leo devnet stop
```

### Option 2: Testnet (Real blockchain)

```bash
cd program

# Create market
leo execute create_market "123456field" "1740000000u32" --network testnet

# Place bet (YES)
leo execute place_bet "123456field" "true" "1000000u64" --network testnet

# Resolve market (creator only)
leo execute resolve_market "123456field" "true" --network testnet

# Claim winnings (use your bet record)
leo execute claim_winnings "{owner: aleo1..., market_id: 123456field, outcome: true, amount: 1000000u64, odds_at_bet: 10000u64}" --network testnet
```

## ğŸ”§ Common Commands

### Frontend

```bash
npm run dev          # Development server (localhost:3000)
npm run build        # Production build
npm start            # Run production build
npm run lint         # Lint code
```

### Smart Contract

```bash
cd program

leo build            # Compile contract
leo clean            # Clean build artifacts
leo devnet start     # Start local devnet
leo devnet stop      # Stop local devnet
```

## âš ï¸ Security Warnings

The npm install showed **7 vulnerabilities** (3 moderate, 3 high, 1 critical):
- Most are in development dependencies
- Not critical for Wave 1 MVP
- Can be addressed with: `npm audit fix` (review changes first)

The Next.js version (15.2.4) has a CVE. Consider upgrading when stable patch is released.

## ğŸ“ Configuration Files

### program/.env
```bash
NETWORK=testnet
PRIVATE_KEY=your_private_key_here
ENDPOINT=https://api.explorer.aleo.org/v1
```

### .env.local (Create this for frontend)
```bash
NEXT_PUBLIC_NETWORK=testnet
NEXT_PUBLIC_PROGRAM_ID=zkpredict.aleo
```

## ğŸ¯ Wave 1 MVP Features (Smart Contract Ready)

âœ… **Implemented**:
- `create_market(market_id, end_time)` - Create binary market
- `place_bet(market_id, outcome, amount)` - Place private bet
- `resolve_market(market_id, winning_outcome)` - Resolve market (creator only)
- `claim_winnings(bet)` - Claim winnings with bet record

ğŸš§ **Frontend (To Be Built)**:
- Wallet connection UI
- Market listing page
- Betting interface
- Odds calculator display
- Transaction history

## ğŸ“š Documentation

- [README.md](./README.md) - Main project documentation
- [README-CONTRACT.md](./README-CONTRACT.md) - Smart contract details
- [Aleo Developer Docs](https://developer.aleo.org/)
- [Leo Language Guide](https://developer.aleo.org/leo/)

## ğŸ†˜ Troubleshooting

**Leo command not found?**
```bash
curl -L https://install.leo.app | bash
source ~/.bashrc
```

**npm install errors?**
```bash
rm -rf node_modules package-lock.json
npm install --legacy-peer-deps
```

**Port 3000 already in use?**
```bash
npm run dev -- -p 3001  # Use different port
```

## âœ¨ What's Next?

1. âœ… Install Leo CLI - COMPLETE (v3.4.0)
2. âœ… Build smart contract (`leo build`) - COMPLETE
3. ğŸš§ Test locally with `leo devnet` or testnet
4. ğŸš§ Build frontend UI for zkPredict
5. ğŸš§ Integrate wallet connection
6. ğŸš§ Deploy to testnet

---

**Status**: âœ… Setup Complete | Ready for development and testing!
